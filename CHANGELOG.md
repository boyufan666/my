# 更新日志

## [2.0.0] - 2024-12-XX

### 🎉 重大更新

#### ✨ 新增功能

1. **实时语音对话**
   - 集成 Web Speech API 实现语音识别和合成
   - AI 助手"小忆"支持自然语音对话
   - 语音命令控制页面导航（"打开游戏库"、"开始评估"等）
   - 自动语音回复，提供温暖关怀的交互体验

2. **MMSE 认知评估（语音模式）**
   - 将原有的按钮式评估改为语音问答
   - 用户通过语音回答评估问题
   - 自动评分和结果分析
   - 完成后自动跳转到结果页面

3. **体感游戏控制**
   - 摄像头动作识别功能
   - 支持运动类游戏的体感操作（乒乓球、太极拳、园艺等）
   - 实时动作反馈和游戏控制
   - 可开关的体感功能

4. **完善的权限管理**
   - 设置页面新增麦克风和摄像头权限管理
   - 一键授权和状态显示
   - 权限状态实时更新

5. **增强的社交中心**
   - 新增家庭成员列表
   - 本周训练总结
   - 更丰富的互动功能
   - 改进的成就分享

#### 🔧 技术改进

1. **后端优化**
   - 星火 API 密钥改为环境变量管理（提高安全性）
   - 支持环境变量配置
   - 改进错误处理

2. **前端架构**
   - 新增 API 客户端封装 (`src/lib/api.ts`)
   - 语音工具类 (`src/lib/voice.ts`)
   - 体感识别组件 (`MotionCapture.tsx`)
   - 语音助手组件 (`VoiceAssistant.tsx`)

3. **代码质量**
   - 修复所有定时器清理问题
   - 改进组件生命周期管理
   - 优化性能

#### 📝 文档

- 新增 `DEPLOYMENT.md` 详细部署指南
- 新增 `README.md` 项目说明
- 新增 `render.yaml` 部署配置
- 新增 `.env.example` 环境变量示例

### 🐛 修复

- 修复 `AIAssessmentPage` 中 `setTimeout` 未清理的问题
- 修复游戏组件中的内存泄漏问题
- 改进错误处理和用户提示

### 🔄 变更

- `WelcomePage`: 集成语音助手，移除静态按钮
- `AIAssessmentPage`: 改为语音问答模式
- `GamePlayPage`: 添加体感控制支持
- `SettingsPage`: 新增权限管理功能
- `SocialCenterPage`: 增强互动功能

### 📦 依赖

- 无新增依赖（使用浏览器原生 API）

---

## [1.0.0] - 初始版本

- 基础页面和导航
- 游戏库和游戏详情
- MMSE 评估（按钮模式）
- 数据中心
- 社交中心基础功能

